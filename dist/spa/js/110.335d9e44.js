"use strict";(self["webpackChunkatlasmundi_app"]=self["webpackChunkatlasmundi_app"]||[]).push([[110],{7110:(e,a,l)=>{l.r(a),l.d(a,{default:()=>D});var t=l(9835);const o=(0,t._)("div",{class:"row q-my-xl"},[(0,t._)("img",{alt:"Atlas-Mundi logo",src:"logo.png",style:{width:"143px",height:"144px"},class:"q-mt-md"})],-1),n={class:"fit q-mx-md"},s={class:"row q-my-md"},i={class:"row q-my-md"},r={class:"row q-my-md"},d={class:"row q-my-md"},u={class:"fit q-mx-xl"},m={class:"row q-my-lg"},c=(0,t.Uk)("Salvar"),p={class:"row q-my-lg"},h=(0,t.Uk)("Cancelar");function g(e,a,l,g,f,w){const y=(0,t.up)("q-icon"),k=(0,t.up)("q-input"),_=(0,t.up)("q-btn"),b=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(b,{class:"flex flex-center content-start row",style:{"background-color":"#142044"}},{default:(0,t.w5)((()=>[o,(0,t._)("div",n,[(0,t._)("div",s,[(0,t.Wm)(k,{dark:"",outlined:"",round:"",class:"flex col",label:"Nome",modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.name=a),type:"text"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"mdi-account"})])),_:1},8,["modelValue"])]),(0,t._)("div",i,[(0,t.Wm)(k,{dark:"",outlined:"",round:"",class:"flex col",label:"UsuÃ¡rio",modelValue:e.user,"onUpdate:modelValue":a[1]||(a[1]=a=>e.user=a),type:"text"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"mdi-account-outline"})])),_:1},8,["modelValue"])]),(0,t._)("div",r,[(0,t.Wm)(k,{dark:"",outlined:"",round:"",class:"flex col",label:"E-Mail",modelValue:e.email,"onUpdate:modelValue":a[2]||(a[2]=a=>e.email=a),type:"email"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"mdi-at"})])),_:1},8,["modelValue"])]),(0,t._)("div",d,[(0,t.Wm)(k,{dark:"",outlined:"",round:"",class:"flex col",label:"Telefone",modelValue:e.phone,"onUpdate:modelValue":a[3]||(a[3]=a=>e.phone=a),type:"phone"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"mdi-phone"})])),_:1},8,["modelValue"])])]),(0,t._)("div",u,[(0,t._)("div",m,[(0,t.Wm)(_,{style:{background:"#11a3b9",color:"lightgray"},class:"full-width",onClick:e.updateProfileData},{default:(0,t.w5)((()=>[c])),_:1},8,["onClick"])]),(0,t._)("div",p,[(0,t.Wm)(_,{flat:"",style:{background:"transparent",color:"lightgray"},class:"full-width",onClick:e.goBack},{default:(0,t.w5)((()=>[h])),_:1},8,["onClick"])])])])),_:1})}const f=(0,t.aZ)({name:"HomePage",data(){return{name:"",user:"",email:"",phone:"",fullData:{}}},mounted(){0},methods:{async getProfileData(){var e=localStorage.getItem("profileId"),a={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}};await fetch(`/v1/profiles/${e}`,a).then((e=>e.json())).then((e=>{this.user=`@${e.login}`,this.name=`${e.name}`,this.email=`${e.email}`,this.phone=`${e.phoneNumber}`,this.fullData=e,console.log(e)})).catch((e=>{console.log(e),this.$router.push("/")}))},async updateProfileData(){var e=localStorage.getItem("profileId"),a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:{birthDate:this.fullData.birthDate,email:this.email,latitude:this.fullData.latitude,login:this.user,longitude:this.fullData.longitude,name:this.name,password:this.fullData.password,phoneNumber:this.phone,taxId:this.fullData.taxId}};await fetch(`/v1/profiles/${e}`,a).then((e=>e.json())).then((e=>{this.$router.push("/profile")})).catch((e=>{console.log(e),this.$router.push("/")}))},goBack(){this.$router.go(-1)}}});var w=l(1639),y=l(9885),k=l(361),_=l(2857),b=l(9379),v=l(9984),x=l.n(v);const q=(0,w.Z)(f,[["render",g]]),D=q;x()(f,"components",{QPage:y.Z,QInput:k.Z,QIcon:_.Z,QBtn:b.Z})}}]);